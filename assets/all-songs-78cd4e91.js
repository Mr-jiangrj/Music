import{e as a,a as e}from"./artist-e317ad04.js";import{_ as s,R as l,S as t,r as n,z as r,j as o,M as u,N as i,U as m,Z as g,O as p,a2 as c,X as v,Q as d,Y as y,W as f,b4 as j,at as h,ap as k,a1 as b,af as q,ag as S}from"./index-661ec728.js";import{D as $}from"./DataLists-57663f84.js";import{P as _}from"./index-8234b238.js";import"./SmallSongData-3374c561.js";import"./Add-3dc646af.js";import"./FormItem-6ada1754.js";import"./Alert-dbc6e093.js";import"./ListAdd-a3933c80.js";import"./LinkTwo-82bd962a.js";import"./PlayOne-c57c555f.js";import"./Select-289431c4.js";const D={class:"all-songs"},N={key:0,class:"title"},R={class:"key"},T={key:1,class:"title"},C={class:"key"},x=(a=>(q("data-v-3abca1f8"),a=a(),S(),a))((()=>p("br",null,null,-1))),A={key:2,class:"songs"},F=s({__name:"all-songs",setup(s){const{t:q}=l(),S=t(),F=n(S.currentRoute.value.query.id),L=n([]),P=n(null),w=n(0),I=n(30),z=n(S.currentRoute.value.query.page?Number(S.currentRoute.value.query.page):1),O=(s,l=30,t=0,n="hot")=>{if(!s)return!1;a(s,l,t,n).then((a=>{if((a=>{e(a).then((a=>{P.value=a.data.artist.name}))})(s),a.songs[0]){w.value=a.total;const e=a.songs.map((a=>a.id));j(e.join(",")).then((a=>{L.value=[],a.songs.forEach(((a,e)=>{L.value.push({id:a.id,num:e+1+(z.value-1)*I.value,name:a.name,artist:a.ar,album:a.al,alia:a.alia,time:h(a.dt),fee:a.fee,pc:a.pc?a.pc:null,mv:a.mv?a.mv:null})}))}))}else $message.error(q("general.message.acquisitionFailed"));"undefined"!=typeof $scrollToTop&&$scrollToTop()})).catch((a=>{S.go(-1),console.error(q("general.message.acquisitionFailed"),a),$message.error(q("general.message.acquisitionFailed"))}))};r((()=>S.currentRoute.value),(a=>{F.value=a.query.id,z.value=Number(a.query.page?a.query.page:1),"all-songs"==a.name&&O(F.value,I.value,z.value?(z.value-1)*I.value:0)}));const Q=a=>{I.value=a,getSearchDataList(F.value,a,(z.value-1)*I.value)},W=a=>{S.push({path:"/all-songs",query:{id:F.value,page:a}})};return o((()=>{O(F.value,I.value,(z.value-1)*I.value)})),(a,e)=>{const s=k;return u(),i("div",D,[m(F)?(u(),i("div",N,[m(L)[0]?(u(),i(g,{key:0},[p("span",R,c(m(P)?m(P):a.$t("general.name.unknownArtist")),1),p("span",null,c(a.$t("general.name.allSong")),1)],64)):v("",!0)])):(u(),i("div",T,[p("span",C,c(a.$t("general.name.noKeywords")),1),x,d(s,{strong:"",secondary:"",onClick:e[0]||(e[0]=a=>m(S).go(-1)),style:{"margin-top":"20px"}},{default:y((()=>[b(c(a.$t("general.name.goBack")),1)])),_:1})])),m(F)?(u(),i("div",A,[d($,{listData:m(L)},null,8,["listData"]),m(L)[0]?(u(),f(_,{key:0,pageNumber:m(z),totalCount:m(w),onPageSizeChange:Q,onPageNumberChange:W},null,8,["pageNumber","totalCount"])):v("",!0)])):v("",!0)])}}},[["__scopeId","data-v-3abca1f8"]]);export{F as default};
