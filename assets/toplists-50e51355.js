import{_ as s,R as a,S as t,aF as i,j as e,M as l,N as o,U as r,W as n,Y as c,X as d,Q as p,T as u,a4 as f,a1 as m,a2 as g,Z as v,$ as L,O as y,ae as j,ad as _,aG as h}from"./index-661ec728.js";import{g as T}from"./album-52ed55ed.js";import{C as k}from"./CoverLists-d250c179.js";import{_ as b}from"./Divider-2b7c1bdc.js";import{a as C,_ as F}from"./Grid-8b78ec37.js";import"./FormItem-6ada1754.js";import"./Select-289431c4.js";import"./getCoverUrl-381066ed.js";import"./Tooltip-7286355b.js";import"./PlayOne-c57c555f.js";import"./LinkTwo-82bd962a.js";import"./Unlike-f56e8f6e.js";import"./Skeleton-e15f2934.js";import"./use-houdini-0fca5f1d.js";const I={class:"toplists"},M={class:"cover"},U={class:"data"},$={class:"desc"},x=s({__name:"toplists",setup(s){const{t:x}=a(),S=t(),H=i({officialList:[],globalList:[]});return e((()=>{$setSiteTitle(x("nav.discover")+" - "+x("nav.discoverChildren.toplists")),T().then((s=>{H.officialList=[],H.globalList=[],s.list[0]?s.list.forEach((s=>{s.ToplistType?H.officialList.push(s):H.globalList.push({id:s.id,cover:s.coverImgUrl,name:s.name,update:s.updateFrequency,playCount:f(s.playCount)})})):$message.error(x("general.message.acquisitionFailed"))}))})),(s,a)=>{const t=b,i=j,e=_,f=h,T=C,x=F;return l(),o("div",I,[r(H).officialList[0]?(l(),n(t,{key:0},{default:c((()=>[m(g(s.$t("nav.officialList")),1)])),_:1})):d("",!0),p(u,{mode:"out-in"},{default:c((()=>[r(H).officialList[0]?(l(),n(x,{key:0,class:"official","x-gap":"20","y-gap":"20",cols:2},{default:c((()=>[(l(!0),o(v,null,L(r(H).officialList,(s=>(l(),n(T,{key:s},{default:c((()=>[p(f,{class:"item",bordered:!1,"content-style":{padding:"0",display:"flex",alignItems:"center"},hoverable:"",onClick:a=>r(S).push(`/playlist?id=${s.id}&page=1`)},{default:c((()=>[y("div",M,[p(i,{class:"coverImg",src:s.coverImgUrl.replace(/^http:/,"https:")+"?param=300y300","fallback-src":"/images/pic/default.png"},null,8,["src"]),p(e,{class:"update",innerHTML:s.updateFrequency},null,8,["innerHTML"])]),y("div",U,[p(e,{class:"title",innerHTML:s.name},null,8,["innerHTML"]),y("div",$,[(l(!0),o(v,null,L(s.tracks,((s,a)=>(l(),o("div",{class:"song text-hidden",key:s},[p(e,null,{default:c((()=>[m(g(a+1)+". "+g(s.first)+" - ",1)])),_:2},1024),p(e,{depth:"3"},{default:c((()=>[m(g(s.second),1)])),_:2},1024)])))),128))])])])),_:2},1032,["onClick"])])),_:2},1024)))),128))])),_:1})):d("",!0)])),_:1}),p(t,null,{default:c((()=>[m(g(s.$t("nav.globalList")),1)])),_:1}),p(k,{listData:r(H).globalList,listType:"topList"},null,8,["listData"])])}}},[["__scopeId","data-v-dc71f808"]]);export{x as default};
